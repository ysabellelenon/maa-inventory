{% extends "maainventory/base.html" %}
{% load static %}

{% block content %}
  <div class="page-header" style="display: flex; justify-content: space-between; align-items: center;">
    <h2>Edit Punch ID</h2>
    <a href="{% url 'punch_id_management' %}" style="display: inline-flex; align-items: center; gap: 8px; padding: 8px 16px; background: var(--accent); color: var(--text); text-decoration: none; border-radius: 8px; font-weight: 500; border: 1px solid var(--border);">
      <img src="{% static 'icons/chevron-left.svg' %}" alt="Back" style="width: 16px; height: 16px;" />
      Back to List
    </a>
  </div>

  {% if messages %}
    <div style="margin-bottom: 20px;">
      {% for message in messages %}
        <div style="padding: 12px 16px; margin-bottom: 8px; border-radius: 8px; background: {% if message.tags == 'error' %}#fee2e2{% elif message.tags == 'success' %}#dcfce7{% else %}var(--accent){% endif %}; color: {% if message.tags == 'error' %}#991b1b{% elif message.tags == 'success' %}#166534{% else %}var(--text){% endif %}; border: 1px solid {% if message.tags == 'error' %}#fecaca{% elif message.tags == 'success' %}#bbf7d0{% else %}var(--border){% endif %};">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <div class="panel">
    <h3 style="margin-bottom: 16px;">Edit Punch ID Details</h3>
    <form method="post" action="{% url 'punch_id_edit' punch_id.id %}">
      {% csrf_token %}
      <div style="display: grid; gap: 16px;">
        <div>
          <label style="display: block; margin-bottom: 6px; font-weight: 500; color: var(--text);">Punch ID <span style="color: #ef4444;">*</span></label>
          <input type="text" name="punch_id" value="{{ punch_id.punch_id }}" required style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; font-family: var(--font-stack);" />
        </div>
        <div>
          <label style="display: flex; align-items: center; gap: 8px; font-weight: 500; color: var(--text); cursor: pointer;">
            <input type="checkbox" name="is_active" {% if punch_id.is_active %}checked{% endif %} style="width: 18px; height: 18px; cursor: pointer;" />
            Active (can be used for registration)
          </label>
        </div>
        <div style="display: flex; gap: 12px; margin-top: 8px;">
          <button type="submit" style="padding: 10px 24px; background: var(--focus); color: white; border: 1px solid var(--focus); border-radius: 8px; font-weight: 500; cursor: pointer;">
            Save Changes
          </button>
          <a href="{% url 'punch_id_management' %}" style="padding: 10px 24px; background: var(--accent); color: var(--text); text-decoration: none; border-radius: 8px; font-weight: 500; border: 1px solid var(--border); display: inline-block;">
            Cancel
          </a>
        </div>
      </div>
    </form>
  </div>
{% endblock %}

